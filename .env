# Ethereum RPC Configuration
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/fc066db3e5254dd88e0890320478bc75
ETHEREUM_WS_URL=wss://eth-mainnet.ws.alchemyapi.io/ws/x6DMAG9Zx4vOWVlS3Dov4
START_BLOCK_NUMBER=22759500
ETHEREUM_REQUEST_TIMEOUT=120s
ETHEREUM_RATE_LIMIT=1s
ETHEREUM_SKIP_RECEIPTS=true

# MongoDB Configuration
MONGO_URI=mongodb+srv://haitranwang:eURhdPjFc10NGyDR@cluster0.kzyty5l.mongodb.net/ethereum_raw_data
MONGO_DATABASE=ethereum_raw_data
MONGO_CONNECT_TIMEOUT=30s
MONGO_MAX_POOL_SIZE=50

# Application Configuration
APP_PORT=8080
APP_ENV=development
LOG_LEVEL=error

# Crawler Configuration - Optimized for Infura free tier
BATCH_SIZE=1
CONCURRENT_WORKERS=1
RETRY_ATTEMPTS=3
RETRY_DELAY=2s

# WebSocket Configuration
WEBSOCKET_BATCH_SIZE=20
WEBSOCKET_FLUSH_INTERVAL=2s
WEBSOCKET_SUBSCRIBE_TO_BLOCKS=true
WEBSOCKET_SUBSCRIBE_TO_TXS=false
WEBSOCKET_SUBSCRIBE_TO_LOGS=false

# GraphQL Configuration
GRAPHQL_ENDPOINT=/graphql
GRAPHQL_PLAYGROUND=true

# Batch Upsert Configuration
CRAWLER_USE_UPSERT=true
CRAWLER_UPSERT_FALLBACK=true

# Monitoring Configuration
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30s

# NATS JetStream Configuration
NATS_URL=nats://localhost:4222
NATS_STREAM_NAME=TRANSACTIONS
NATS_SUBJECT_PREFIX=transactions
NATS_CONNECT_TIMEOUT=10s
NATS_RECONNECT_ATTEMPTS=5
NATS_RECONNECT_DELAY=2s
NATS_MAX_PENDING_MESSAGES=1000
NATS_ENABLED=false

# Scheduler Configuration - Optimized for stable operation
SCHEDULER_MODE=hybrid
SCHEDULER_ENABLE_REALTIME=true
SCHEDULER_ENABLE_POLLING=true
SCHEDULER_POLLING_INTERVAL=3s
SCHEDULER_FALLBACK_TIMEOUT=20s
SCHEDULER_RECONNECT_ATTEMPTS=3
SCHEDULER_RECONNECT_DELAY=2s
